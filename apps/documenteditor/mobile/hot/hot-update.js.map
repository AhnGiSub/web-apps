{"version":3,"sources":["webpack:///D:/web-apps/apps/documenteditor/mobile/src/components/settings/controller/DocumentInfo.jsx"],"names":["DocumentInfoController","props","api","Common","EditorApi","get","docProps","asc_getCoreProps","appProps","asc_getAppProps","console","log","appName","asc_getApplication","asc_getAppVersion","getDocProps","valueModified","asc_getModified","toLocaleString","_lang","year","month","day","toLocaleTimeString","timeStyle","valueModifiedBy","asc_getLastModifiedBy","Utils","UserInfoParser","getParsedName","startGetDocInfo","getAppProps","getModified","getModifiedBy","Component"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;;IAEMA,sB;;;;;AACJ,kCAAYC,KAAZ,EAAmB;AAAA;;AAAA,6BACXA,KADW;AAElB;;;;kCAEa;AACZ,UAAMC,GAAG,GAAGC,MAAM,CAACC,SAAP,CAAiBC,GAAjB,EAAZ;;AACA,UAAIH,GAAJ,EAAS;AACP,YAAII,QAAQ,GAAGJ,GAAG,CAACK,gBAAJ,EAAf;AACA,eAAOD,QAAP;AACD;AACF;;;kCAEa;AACZ,UAAMJ,GAAG,GAAGC,MAAM,CAACC,SAAP,CAAiBC,GAAjB,EAAZ;;AACA,UAAIH,GAAJ,EAAS;AACP,YAAMM,QAAQ,GAAGN,GAAG,CAACO,eAAJ,EAAjB;AACAC,eAAO,CAACC,GAAR,CAAYH,QAAZ;;AACA,YAAIA,QAAJ,EAAc;AACZ,cAAII,OAAO,GACT,CAACJ,QAAQ,CAACK,kBAAT,MAAiC,EAAlC,KACCL,QAAQ,CAACM,iBAAT,KAA+B,GAA/B,GAAqC,EADtC,KAECN,QAAQ,CAACM,iBAAT,MAAgC,EAFjC,CADF;AAIA,iBAAOF,OAAP;AACD;AACF;AACF;;;kCAEa;AACZ,UAAMN,QAAQ,GAAG,KAAKS,WAAL,EAAjB;;AACA,UAAIT,QAAJ,EAAc;AACZ,YAAIU,aAAa,GAAGV,QAAQ,CAACW,eAAT,EAApB;AACAP,eAAO,CAACC,GAAR,CAAYL,QAAZ;;AACA,YAAIU,aAAJ,EAAmB;AACjB,iBACEA,aAAa,CAACE,cAAd,CAA6BC,KAA7B,EAAoC;AAClCC,gBAAI,EAAE,SAD4B;AAElCC,iBAAK,EAAE,SAF2B;AAGlCC,eAAG,EAAE;AAH6B,WAApC,IAKA,GALA,GAMAN,aAAa,CAACO,kBAAd,CAAiCJ,KAAjC,EAAwC;AAAEK,qBAAS,EAAE;AAAb,WAAxC,CAPF;AASD;AACF;AACF;;;oCAEe;AACd,UAAMlB,QAAQ,GAAG,KAAKS,WAAL,EAAjB;;AACA,UAAIT,QAAJ,EAAc;AACZ,YAAImB,eAAe,GAAGnB,QAAQ,CAACoB,qBAAT,EAAtB;;AACA,YAAID,eAAJ,EAAqB;AACnB,iBAAOtB,MAAM,CAACwB,KAAP,CAAaC,cAAb,CAA4BC,aAA5B,CAA0CJ,eAA1C,CAAP;AACD;AACF;AACF;;;wCAEmB;AAClB,UAAMvB,GAAG,GAAGC,MAAM,CAACC,SAAP,CAAiBC,GAAjB,EAAZ;;AACA,UAAIH,GAAJ,EAAS;AACPA,WAAG,CAAC4B,eAAJ;AACD;AACF;;;6BAEQ;AACP,0BACE,2DAAC,mEAAD;AACE,mBAAW,EAAE,KAAKC,WADpB;AAEE,mBAAW,EAAE,KAAKC,WAFpB;AAGE,qBAAa,EAAE,KAAKC,aAHtB;AAIE,mBAAW,EAAE,KAAKlB;AAJpB,QADF;AAQD;;;;EAzEkCmB,+C;;AA4EtBlC,qFAAf,E","file":"hot/hot-update.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport DocumentInfo from \"../document-info/DocumentInfo\";\r\n\r\nclass DocumentInfoController extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  getDocProps() {\r\n    const api = Common.EditorApi.get();\r\n    if (api) {\r\n      let docProps = api.asc_getCoreProps();\r\n      return docProps;\r\n    }\r\n  }\r\n\r\n  getAppProps() {\r\n    const api = Common.EditorApi.get();\r\n    if (api) {\r\n      const appProps = api.asc_getAppProps();\r\n      console.log(appProps);\r\n      if (appProps) {\r\n        let appName =\r\n          (appProps.asc_getApplication() || \"\") +\r\n          (appProps.asc_getAppVersion() ? \" \" : \"\") +\r\n          (appProps.asc_getAppVersion() || \"\");\r\n        return appName;\r\n      }\r\n    }\r\n  }\r\n\r\n  getModified() {\r\n    const docProps = this.getDocProps();\r\n    if (docProps) {\r\n      let valueModified = docProps.asc_getModified();\r\n      console.log(docProps);\r\n      if (valueModified) {\r\n        return (\r\n          valueModified.toLocaleString(_lang, {\r\n            year: \"numeric\",\r\n            month: \"2-digit\",\r\n            day: \"2-digit\",\r\n          }) +\r\n          \" \" +\r\n          valueModified.toLocaleTimeString(_lang, { timeStyle: \"short\" })\r\n        );\r\n      }\r\n    }\r\n  }\r\n\r\n  getModifiedBy() {\r\n    const docProps = this.getDocProps();\r\n    if (docProps) {\r\n      let valueModifiedBy = docProps.asc_getLastModifiedBy();\r\n      if (valueModifiedBy) {\r\n        return Common.Utils.UserInfoParser.getParsedName(valueModifiedBy);\r\n      }\r\n    }\r\n  }\r\n\r\n  componentDidMount() {\r\n    const api = Common.EditorApi.get();\r\n    if (api) {\r\n      api.startGetDocInfo();\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <DocumentInfo\r\n        getAppProps={this.getAppProps}\r\n        getModified={this.getModified}\r\n        getModifiedBy={this.getModifiedBy}\r\n        getDocProps={this.getDocProps}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nexport default DocumentInfoController;\r\n"],"sourceRoot":""}